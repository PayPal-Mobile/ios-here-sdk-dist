<!DOCTYPE HTML>
<html>
	<head>
		<meta http-equiv="Content-Type" content="html/html; charset=utf-8" />
		<title>PPHPaymentProcessor Class Reference</title>
		<meta id="xcode-display" name="xcode-display" content="render"/>
		<meta name="viewport" content="width=550" />
		<link rel="stylesheet" type="text/css" href="../css/styles.css" media="all" />
		<link rel="stylesheet" type="text/css" media="print" href="../css/stylesPrint.css" />
		<meta name="generator" content="appledoc 2.1 (build 858)" />
	</head>
	<body>
		<header id="top_header">
			<div id="library" class="hideInXcode">
				<h1><a id="libraryTitle" href="../index.html">PayPalHereSDK </a></h1>
				<a id="developerHome" href="../index.html">PayPal</a>
			</div>
			
			<div id="title" role="banner">
				<h1 class="hideInXcode">PPHPaymentProcessor Class Reference</h1>
			</div>
			<ul id="headerButtons" role="toolbar">
				<li id="toc_button">
					<button aria-label="Show Table of Contents" role="checkbox" class="open" id="table_of_contents"><span class="disclosure"></span>Table of Contents</button>
				</li>
				<li id="jumpto_button" role="navigation">
					<select id="jumpTo">
	<option value="top">Jump To&#133;</option>
	
	<option value="overview">Overview</option>
	
	
	
	
	<option value="tasks">Tasks</option>
	
	
	
	
	
	
	
	
	
	<option value="instance_methods">Instance Methods</option>
	
	<option value="//api/name/beginCardNotPresentChargeAttempt:forInvoice:completionHandler:">&nbsp;&nbsp;&nbsp;&nbsp;- beginCardNotPresentChargeAttempt:forInvoice:completionHandler:</option>
	
	<option value="//api/name/beginCardPresentChargeAttempt:forInvoice:withSignature:completionHandler:">&nbsp;&nbsp;&nbsp;&nbsp;- beginCardPresentChargeAttempt:forInvoice:withSignature:completionHandler:</option>
	
	<option value="//api/name/beginCheckinPayment:forInvoice:completionHandler:">&nbsp;&nbsp;&nbsp;&nbsp;- beginCheckinPayment:forInvoice:completionHandler:</option>
	
	<option value="//api/name/beginChipAndPinAuthorization:forInvoice:completionHandler:">&nbsp;&nbsp;&nbsp;&nbsp;- beginChipAndPinAuthorization:forInvoice:completionHandler:</option>
	
	<option value="//api/name/beginRecordingExternalPayment:withNote:forInvoice:completionHandler:">&nbsp;&nbsp;&nbsp;&nbsp;- beginRecordingExternalPayment:withNote:forInvoice:completionHandler:</option>
	
	<option value="//api/name/beginRefund:forAmount:completionHandler:">&nbsp;&nbsp;&nbsp;&nbsp;- beginRefund:forAmount:completionHandler:</option>
	
	<option value="//api/name/beginSendReceipt:to:completionHandler:">&nbsp;&nbsp;&nbsp;&nbsp;- beginSendReceipt:to:completionHandler:</option>
	
	<option value="//api/name/checkRefundEligibilityForCardPresent:andInvoice:completionHandler:">&nbsp;&nbsp;&nbsp;&nbsp;- checkRefundEligibilityForCardPresent:andInvoice:completionHandler:</option>
	
	<option value="//api/name/checkRefundEligibilityForChipAndPin:andInvoice:completionHandler:">&nbsp;&nbsp;&nbsp;&nbsp;- checkRefundEligibilityForChipAndPin:andInvoice:completionHandler:</option>
	
	<option value="//api/name/checkRefundEligibilityForDeclinedCardWithEvent:andInvoice:completionHandler:">&nbsp;&nbsp;&nbsp;&nbsp;- checkRefundEligibilityForDeclinedCardWithEvent:andInvoice:completionHandler:</option>
	
	<option value="//api/name/finalizeChipAndPin:withAuth:forInvoice:completionHandler:">&nbsp;&nbsp;&nbsp;&nbsp;- finalizeChipAndPin:withAuth:forInvoice:completionHandler:</option>
	
	<option value="//api/name/finalizeChipAndPin:withSignature:andAuth:forInvoice:completionHandler:">&nbsp;&nbsp;&nbsp;&nbsp;- finalizeChipAndPin:withSignature:andAuth:forInvoice:completionHandler:</option>
	
	<option value="//api/name/provideSignature:forTransaction:andInvoice:completionHandler:">&nbsp;&nbsp;&nbsp;&nbsp;- provideSignature:forTransaction:andInvoice:completionHandler:</option>
	
	
	
</select>
				</li>
			</ul>
		</header>
		<nav id="tocContainer" class="isShowingTOC">
			<ul id="toc" role="tree">
				
<li role="treeitem"><span class="nodisclosure"></span><span class="sectionName"><a href="#overview">Overview</a></span></li>




<li role="treeitem" id="task_treeitem"><span class="nodisclosure"></span><span class="sectionName"><a href="#tasks">Tasks</a></span><ul>
	
</ul></li>









<li role="treeitem" class="children"><span class="disclosure"></span><span class="sectionName"><a href="#instance_methods">Instance Methods</a></span><ul>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/beginCardNotPresentChargeAttempt:forInvoice:completionHandler:">beginCardNotPresentChargeAttempt:forInvoice:completionHandler:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/beginCardPresentChargeAttempt:forInvoice:withSignature:completionHandler:">beginCardPresentChargeAttempt:forInvoice:withSignature:completionHandler:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/beginCheckinPayment:forInvoice:completionHandler:">beginCheckinPayment:forInvoice:completionHandler:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/beginChipAndPinAuthorization:forInvoice:completionHandler:">beginChipAndPinAuthorization:forInvoice:completionHandler:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/beginRecordingExternalPayment:withNote:forInvoice:completionHandler:">beginRecordingExternalPayment:withNote:forInvoice:completionHandler:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/beginRefund:forAmount:completionHandler:">beginRefund:forAmount:completionHandler:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/beginSendReceipt:to:completionHandler:">beginSendReceipt:to:completionHandler:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/checkRefundEligibilityForCardPresent:andInvoice:completionHandler:">checkRefundEligibilityForCardPresent:andInvoice:completionHandler:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/checkRefundEligibilityForChipAndPin:andInvoice:completionHandler:">checkRefundEligibilityForChipAndPin:andInvoice:completionHandler:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/checkRefundEligibilityForDeclinedCardWithEvent:andInvoice:completionHandler:">checkRefundEligibilityForDeclinedCardWithEvent:andInvoice:completionHandler:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/finalizeChipAndPin:withAuth:forInvoice:completionHandler:">finalizeChipAndPin:withAuth:forInvoice:completionHandler:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/finalizeChipAndPin:withSignature:andAuth:forInvoice:completionHandler:">finalizeChipAndPin:withSignature:andAuth:forInvoice:completionHandler:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/provideSignature:forTransaction:andInvoice:completionHandler:">provideSignature:forTransaction:andInvoice:completionHandler:</a></span></li>
	
</ul></li>


			</ul>
		</nav>
		<article>
			<div id="contents" class="isShowingTOC" role="main">
				<a title="PPHPaymentProcessor Class Reference" name="top"></a>
				<div class="main-navigation navigation-top">
					<ul>
	<li><a href="../index.html">Index</a></li>
	<li><a href="../hierarchy.html">Hierarchy</a></li>
</ul>
				</div>
				<div id="header">
					<div class="section-header">
						<h1 class="title title-header">PPHPaymentProcessor Class Reference</h1>
					</div>		
				</div>
				<div id="container">	
					
					<div class="section section-specification"><table cellspacing="0"><tbody>
						<tr>
	<td class="specification-title">Inherits from</td>
	<td class="specification-value">NSObject</td>
</tr><tr>
	<td class="specification-title">Declared in</td>
	<td class="specification-value">PPHPaymentProcessor.h</td>
</tr>
						</tbody></table></div>
					
					
					
					
					<div class="section section-overview">
						<a title="Overview" name="overview"></a>
						<h2 class="subtitle subtitle-overview">Overview</h2>
						<p>The PPHPaymentProcessor is your one stop shop for turning various events into real money movement for your merchants.
It supports card swipes, manually entered card data, chip and pin, and checkin/tab based transactions.</p>
					</div>
					
					
					
					
					
					<div class="section section-tasks">
						<a title="Tasks" name="tasks"></a>
						<h2 class="subtitle subtitle-tasks">Tasks</h2>
						
						
						
						

						<ul class="task-list">
							<li>
	<span class="tooltip">
		<code><a href="#//api/name/beginRefund:forAmount:completionHandler:">&ndash;&nbsp;beginRefund:forAmount:completionHandler:</a></code>
		<span class="tooltip"><p>Issue a refund against a previously successful PayPal transaction.</p></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/beginCheckinPayment:forInvoice:completionHandler:">&ndash;&nbsp;beginCheckinPayment:forInvoice:completionHandler:</a></code>
		<span class="tooltip"><p>Capture funds against an open checkin from <a href="../Classes/PPHLocalManager.html">PPHLocalManager</a> and <a href="../Classes/PPHLocationWatcher.html">PPHLocationWatcher</a></p></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/beginChipAndPinAuthorization:forInvoice:completionHandler:">&ndash;&nbsp;beginChipAndPinAuthorization:forInvoice:completionHandler:</a></code>
		<span class="tooltip"><p>Authorize a chip and pin card after pin has been validated</p></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/beginCardPresentChargeAttempt:forInvoice:withSignature:completionHandler:">&ndash;&nbsp;beginCardPresentChargeAttempt:forInvoice:withSignature:completionHandler:</a></code>
		<span class="tooltip"><p>Collect funds against a card that has been passed through a reader and for which magstripe data is available.</p></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/beginCardNotPresentChargeAttempt:forInvoice:completionHandler:">&ndash;&nbsp;beginCardNotPresentChargeAttempt:forInvoice:completionHandler:</a></code>
		<span class="tooltip"><p>Collect funds against a card that has been manually entered.</p></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/beginRecordingExternalPayment:withNote:forInvoice:completionHandler:">&ndash;&nbsp;beginRecordingExternalPayment:withNote:forInvoice:completionHandler:</a></code>
		<span class="tooltip"><p>Mark an invoice as having been paid by an external payment type such as Cash or Check.</p></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/provideSignature:forTransaction:andInvoice:completionHandler:">&ndash;&nbsp;provideSignature:forTransaction:andInvoice:completionHandler:</a></code>
		<span class="tooltip"><p>Provide a signature record for a previously successful charge.</p></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/finalizeChipAndPin:withAuth:forInvoice:completionHandler:">&ndash;&nbsp;finalizeChipAndPin:withAuth:forInvoice:completionHandler:</a></code>
		<span class="tooltip"><p>Capture funds against a chip&amp;pin or chip card</p></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/finalizeChipAndPin:withSignature:andAuth:forInvoice:completionHandler:">&ndash;&nbsp;finalizeChipAndPin:withSignature:andAuth:forInvoice:completionHandler:</a></code>
		<span class="tooltip"><p>Capture funds against a chip&amp;pin&amp;signature or chip&amp;signature card</p></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/checkRefundEligibilityForCardPresent:andInvoice:completionHandler:">&ndash;&nbsp;checkRefundEligibilityForCardPresent:andInvoice:completionHandler:</a></code>
		<span class="tooltip"><p>Check if the given swipe data is for the same card that the invoice was paid with</p></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/checkRefundEligibilityForChipAndPin:andInvoice:completionHandler:">&ndash;&nbsp;checkRefundEligibilityForChipAndPin:andInvoice:completionHandler:</a></code>
		<span class="tooltip"><p>Check if the given chip+pin card data is for the same card that the invoice was paid with</p></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/checkRefundEligibilityForDeclinedCardWithEvent:andInvoice:completionHandler:">&ndash;&nbsp;checkRefundEligibilityForDeclinedCardWithEvent:andInvoice:completionHandler:</a></code>
		<span class="tooltip"><p>Check if the given event contains the same EMV data as the card that the invoice was paid with</p></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/beginSendReceipt:to:completionHandler:">&ndash;&nbsp;beginSendReceipt:to:completionHandler:</a></code>
		<span class="tooltip"><p>Send the receipt for a particular transaction or transaction attempt/failure (in the EMV case) to an email address or mobile phone number.</p></span>
	</span>
	
	
</li>
						</ul>
						
					</div>
					
					
					
					
					
					
					
					
					
					<div class="section section-methods">
						<a title="Instance Methods" name="instance_methods"></a>
						<h2 class="subtitle subtitle-methods">Instance Methods</h2>
						
						<div class="section-method">
	<a name="//api/name/beginCardNotPresentChargeAttempt:forInvoice:completionHandler:" title="beginCardNotPresentChargeAttempt:forInvoice:completionHandler:"></a>
	<h3 class="subsubtitle method-title">beginCardNotPresentChargeAttempt:forInvoice:completionHandler:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Collect funds against a card that has been manually entered.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (void)beginCardNotPresentChargeAttempt:(PPHCardNotPresentData *)<em>card</em> forInvoice:(id&lt;PPHInvoiceProtocol&gt;)<em>invoice</em> completionHandler:(void ( ^ ) ( PPHCardChargeResponse *response ))<em>completionHandler</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>card</em></dt>
			<dd><p>Filled out manually or via a Card Scan</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>invoice</em></dt>
			<dd><p>the invoice on which to collect funds (total, currency, invoiceId are the main elements). You must save this invoice before
attempting to collect payment.</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>completionHandler</em></dt>
			<dd><p>called when the action has completed</p></dd>
		</dl>
		
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>Collect funds against a card that has been manually entered.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">PPHPaymentProcessor.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/beginCardPresentChargeAttempt:forInvoice:withSignature:completionHandler:" title="beginCardPresentChargeAttempt:forInvoice:withSignature:completionHandler:"></a>
	<h3 class="subsubtitle method-title">beginCardPresentChargeAttempt:forInvoice:withSignature:completionHandler:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Collect funds against a card that has been passed through a reader and for which magstripe data is available.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (void)beginCardPresentChargeAttempt:(PPHCardSwipeData *)<em>card</em> forInvoice:(id&lt;PPHInvoiceProtocol&gt;)<em>invoice</em> withSignature:(UIImage *)<em>signature</em> completionHandler:(void ( ^ ) ( PPHCardChargeResponse *response ))<em>completionHandler</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>card</em></dt>
			<dd><p>from PPCardReaderManager swipe event</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>invoice</em></dt>
			<dd><p>the invoice on which to collect funds (total, currency, invoiceId are the main elements). You must save this invoice before
attempting to collect payment.</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>signature</em></dt>
			<dd><p>the buyer-generated signature, or nil for no signature. If signature is nil, a signature should be provided later
with <a href="#//api/name/provideSignature:forTransaction:andInvoice:completionHandler:">provideSignature:forTransaction:andInvoice:completionHandler:</a></p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>completionHandler</em></dt>
			<dd><p>called when the action has completed</p></dd>
		</dl>
		
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>Collect funds against a card that has been passed through a reader and for which magstripe data is available.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">PPHPaymentProcessor.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/beginCheckinPayment:forInvoice:completionHandler:" title="beginCheckinPayment:forInvoice:completionHandler:"></a>
	<h3 class="subsubtitle method-title">beginCheckinPayment:forInvoice:completionHandler:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Capture funds against an open checkin from <a href="../Classes/PPHLocalManager.html">PPHLocalManager</a> and <a href="../Classes/PPHLocationWatcher.html">PPHLocationWatcher</a></p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (void)beginCheckinPayment:(PPHLocationCheckin *)<em>checkin</em> forInvoice:(id&lt;PPHInvoiceProtocol&gt;)<em>invoice</em> completionHandler:(void ( ^ ) ( PPHPaymentResponse *))<em>completionHandler</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>checkin</em></dt>
			<dd><p>information about the checkin (only id is needed)</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>invoice</em></dt>
			<dd><p>the invoice on which to collect funds (total, currency, invoiceId are the main elements). You must save this invoice before
attempting to collect payment.</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>completionHandler</em></dt>
			<dd><p>called when the action has completed</p></dd>
		</dl>
		
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>Capture funds against an open checkin from <a href="../Classes/PPHLocalManager.html">PPHLocalManager</a> and <a href="../Classes/PPHLocationWatcher.html">PPHLocationWatcher</a></p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">PPHPaymentProcessor.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/beginChipAndPinAuthorization:forInvoice:completionHandler:" title="beginChipAndPinAuthorization:forInvoice:completionHandler:"></a>
	<h3 class="subsubtitle method-title">beginChipAndPinAuthorization:forInvoice:completionHandler:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Authorize a chip and pin card after pin has been validated</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (void)beginChipAndPinAuthorization:(PPHChipAndPinAuthEvent *)<em>auth</em> forInvoice:(id&lt;PPHInvoiceProtocol&gt;)<em>invoice</em> completionHandler:(void ( ^ ) ( PPHChipAndPinAuthResponse *response ))<em>completionHandler</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>auth</em></dt>
			<dd><p>from <a href="../Classes/PPHCardReaderManager.html">PPHCardReaderManager</a> auth event.</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>invoice</em></dt>
			<dd><p>the invoice on which to collect funds (total, currency, invoiceId are the main elements). You must save this invoice before
attempting to collect payment.</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>completionHandler</em></dt>
			<dd><p>called when the action has completed</p></dd>
		</dl>
		
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>Authorize a chip and pin card after pin has been validated</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">PPHPaymentProcessor.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/beginRecordingExternalPayment:withNote:forInvoice:completionHandler:" title="beginRecordingExternalPayment:withNote:forInvoice:completionHandler:"></a>
	<h3 class="subsubtitle method-title">beginRecordingExternalPayment:withNote:forInvoice:completionHandler:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Mark an invoice as having been paid by an external payment type such as Cash or Check.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (void)beginRecordingExternalPayment:(PPHPaymentMethod)<em>paymentType</em> withNote:(NSString *)<em>note</em> forInvoice:(id&lt;PPHInvoiceProtocol&gt;)<em>invoice</em> completionHandler:(void ( ^ ) ( PPHPaymentResponse *response ))<em>completionHandler</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>paymentType</em></dt>
			<dd><p>must be cash or check currently for this method to succeed</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>note</em></dt>
			<dd><p>a short note, such as the amount tendered or check number</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>invoice</em></dt>
			<dd><p>the invoice on which to collect funds (total, currency, invoiceId are the main elements). You must save this invoice before
attempting to collect payment.</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>completionHandler</em></dt>
			<dd><p>called when the action has completed</p></dd>
		</dl>
		
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>Mark an invoice as having been paid by an external payment type such as Cash or Check.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">PPHPaymentProcessor.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/beginRefund:forAmount:completionHandler:" title="beginRefund:forAmount:completionHandler:"></a>
	<h3 class="subsubtitle method-title">beginRefund:forAmount:completionHandler:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Issue a refund against a previously successful PayPal transaction.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (void)beginRefund:(NSString *)<em>transactionId</em> forAmount:(PPHAmount *)<em>amountOrNil</em> completionHandler:(void ( ^ ) ( PPHPaymentResponse *))<em>completionHandler</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>transactionId</em></dt>
			<dd><p>The transaction identifier for the original payment transaction</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>amountOrNil</em></dt>
			<dd><p>Only pass an amount in the case of a partial refund. Otherwise, the backend will ensure it&rsquo;s a full refund.</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>completionHandler</em></dt>
			<dd><p>called when the action has completed</p></dd>
		</dl>
		
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>Issue a refund against a previously successful PayPal transaction.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">PPHPaymentProcessor.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/beginSendReceipt:to:completionHandler:" title="beginSendReceipt:to:completionHandler:"></a>
	<h3 class="subsubtitle method-title">beginSendReceipt:to:completionHandler:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Send the receipt for a particular transaction or transaction attempt/failure (in the EMV case) to an email address or mobile phone number.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (void)beginSendReceipt:(PPHPaymentResponse *)<em>payment</em> to:(PPHReceiptDestination *)<em>destination</em> completionHandler:(PPHInvoiceBasicCompletionHandler)<em>completionHandler</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>payment</em></dt>
			<dd><p>the response from the server for the payment attempt. In the case of successful non-EMV transactions, we only need the transactionId and paypalInvoiceId
values of this object, so you can make one up with that data. For EMV, we need the transaction handle as well (e.g. from <a href="../Classes/PPHChipAndPinAuthResponse.html">PPHChipAndPinAuthResponse</a>)</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>destination</em></dt>
			<dd><p>the destination for the receipt (e.g. an email address or phone number)</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>completionHandler</em></dt>
			<dd><p>called when the receipt is sent or an error occurs</p></dd>
		</dl>
		
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>Send the receipt for a particular transaction or transaction attempt/failure (in the EMV case) to an email address or mobile phone number.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">PPHPaymentProcessor.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/checkRefundEligibilityForCardPresent:andInvoice:completionHandler:" title="checkRefundEligibilityForCardPresent:andInvoice:completionHandler:"></a>
	<h3 class="subsubtitle method-title">checkRefundEligibilityForCardPresent:andInvoice:completionHandler:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Check if the given swipe data is for the same card that the invoice was paid with</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (void)checkRefundEligibilityForCardPresent:(PPHCardSwipeData *)<em>card</em> andInvoice:(id&lt;PPHInvoiceProtocol&gt;)<em>invoice</em> completionHandler:(void ( ^ ) ( PPHRefundEligibilityResponse *))<em>completionHandler</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>card</em></dt>
			<dd><p>the card data to be checked</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>invoice</em></dt>
			<dd><p>the invoice against which to check the card</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>completionHandler</em></dt>
			<dd><p>called when the action has completed</p></dd>
		</dl>
		
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>Check if the given swipe data is for the same card that the invoice was paid with</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">PPHPaymentProcessor.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/checkRefundEligibilityForChipAndPin:andInvoice:completionHandler:" title="checkRefundEligibilityForChipAndPin:andInvoice:completionHandler:"></a>
	<h3 class="subsubtitle method-title">checkRefundEligibilityForChipAndPin:andInvoice:completionHandler:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Check if the given chip+pin card data is for the same card that the invoice was paid with</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (void)checkRefundEligibilityForChipAndPin:(PPHChipAndPinAuthEvent *)<em>auth</em> andInvoice:(id&lt;PPHInvoiceProtocol&gt;)<em>invoice</em> completionHandler:(void ( ^ ) ( PPHRefundEligibilityResponse *))<em>completionHandler</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>auth</em></dt>
			<dd><p>the chip+pin card data to be checked</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>invoice</em></dt>
			<dd><p>the invoice against which to check the card</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>completionHandler</em></dt>
			<dd><p>called when the action has completed</p></dd>
		</dl>
		
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>Check if the given chip+pin card data is for the same card that the invoice was paid with</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">PPHPaymentProcessor.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/checkRefundEligibilityForDeclinedCardWithEvent:andInvoice:completionHandler:" title="checkRefundEligibilityForDeclinedCardWithEvent:andInvoice:completionHandler:"></a>
	<h3 class="subsubtitle method-title">checkRefundEligibilityForDeclinedCardWithEvent:andInvoice:completionHandler:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Check if the given event contains the same EMV data as the card that the invoice was paid with</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (void)checkRefundEligibilityForDeclinedCardWithEvent:(PPHChipAndPinEventWithEmv *)<em>event</em> andInvoice:(id&lt;PPHInvoiceProtocol&gt;)<em>invoice</em> completionHandler:(void ( ^ ) ( PPHRefundEligibilityResponse *))<em>completionHandler</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>event</em></dt>
			<dd><p>the terminal decline event that contains EMV data</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>invoice</em></dt>
			<dd><p>the invoice against which to check the card</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>completionHandler</em></dt>
			<dd><p>called when the action has completed</p></dd>
		</dl>
		
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>Check if the given event contains the same EMV data as the card that the invoice was paid with</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">PPHPaymentProcessor.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/finalizeChipAndPin:withAuth:forInvoice:completionHandler:" title="finalizeChipAndPin:withAuth:forInvoice:completionHandler:"></a>
	<h3 class="subsubtitle method-title">finalizeChipAndPin:withAuth:forInvoice:completionHandler:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Capture funds against a chip&amp;pin or chip card</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (void)finalizeChipAndPin:(PPHChipAndPinEventWithEmv *)<em>approvalFromTerminalOrNil</em> withAuth:(PPHChipAndPinAuthResponse *)<em>auth</em> forInvoice:(id&lt;PPHInvoiceProtocol&gt;)<em>invoice</em> completionHandler:(void ( ^ ) ( PPHCardChargeResponse *response ))<em>completionHandler</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>approvalFromTerminalOrNil</em></dt>
			<dd><p>for chip&amp;pin card, this is passed to you by <a href="../Classes/PPHCardReaderManager.html">PPHCardReaderManager</a> event</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>auth</em></dt>
			<dd><p>for chip&amp;pin card, this is passed to you by <a href="../Classes/PPHCardReaderManager.html">PPHCardReaderManager</a> event</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>invoice</em></dt>
			<dd><p>the invoice on which to collect funds (total, currency, invoiceId are the main elements). You must save this invoice before
attempting to collect payment.</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>completionHandler</em></dt>
			<dd><p>called when the action has completed</p></dd>
		</dl>
		
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>Capture funds against a chip&amp;pin or chip card</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">PPHPaymentProcessor.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/finalizeChipAndPin:withSignature:andAuth:forInvoice:completionHandler:" title="finalizeChipAndPin:withSignature:andAuth:forInvoice:completionHandler:"></a>
	<h3 class="subsubtitle method-title">finalizeChipAndPin:withSignature:andAuth:forInvoice:completionHandler:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Capture funds against a chip&amp;pin&amp;signature or chip&amp;signature card</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (void)finalizeChipAndPin:(PPHChipAndPinEventWithEmv *)<em>approvalFromTerminalOrNil</em> withSignature:(UIImage *)<em>signature</em> andAuth:(PPHChipAndPinAuthResponse *)<em>auth</em> forInvoice:(id&lt;PPHInvoiceProtocol&gt;)<em>invoice</em> completionHandler:(void ( ^ ) ( PPHCardChargeResponse *response ))<em>completionHandler</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>approvalFromTerminalOrNil</em></dt>
			<dd><p>for chip&amp;pin card, this is passed to you by <a href="../Classes/PPHCardReaderManager.html">PPHCardReaderManager</a> event</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>signature</em></dt>
			<dd><p>the buyer-generated signature</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>auth</em></dt>
			<dd><p>for chip&amp;pin card, this is passed to you by <a href="../Classes/PPHCardReaderManager.html">PPHCardReaderManager</a> event</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>invoice</em></dt>
			<dd><p>the invoice on which to collect funds (total, currency, invoiceId are the main elements). You must save this invoice before
attempting to collect payment.</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>completionHandler</em></dt>
			<dd><p>called when the action has completed</p></dd>
		</dl>
		
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>Capture funds against a chip&amp;pin&amp;signature or chip&amp;signature card</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">PPHPaymentProcessor.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/provideSignature:forTransaction:andInvoice:completionHandler:" title="provideSignature:forTransaction:andInvoice:completionHandler:"></a>
	<h3 class="subsubtitle method-title">provideSignature:forTransaction:andInvoice:completionHandler:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Provide a signature record for a previously successful charge.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (void)provideSignature:(UIImage *)<em>signature</em> forTransaction:(PPHCardChargeResponse *)<em>response</em> andInvoice:(id&lt;PPHInvoiceProtocol&gt;)<em>invoice</em> completionHandler:(void ( ^ ) ( PPHError *))<em>completionHandler</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>signature</em></dt>
			<dd><p>the buyer-generated signature</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>response</em></dt>
			<dd><p>the result of beginCardPresentChargeAttempt</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>invoice</em></dt>
			<dd><p>the invoice of the transaction that&rsquo;s being signed for</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>completionHandler</em></dt>
			<dd><p>called when the action has completed</p></dd>
		</dl>
		
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>Provide a signature record for a previously successful charge.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">PPHPaymentProcessor.h</code><br />
	</div>				
	
	
</div>
						
					</div>
					
					
				</div>
				<div class="main-navigation navigation-bottom">
					<ul>
	<li><a href="../index.html">Index</a></li>
	<li><a href="../hierarchy.html">Hierarchy</a></li>
</ul>
				</div>
				<div id="footer">
					<hr />
					<div class="footer-copyright">
						<p><span class="copyright">&copy; 2013 PayPal. All rights reserved. (Last updated: 2013-09-23)</span><br />
						
						<span class="generator">Generated by <a href="http://appledoc.gentlebytes.com">appledoc 2.1 (build 858)</a>.</span></p>
						
					</div>
				</div>
			</div>
		</article>
		<script type="text/javascript">
			function jumpToChange()
			{
				window.location.hash = this.options[this.selectedIndex].value;
			}
			
			function toggleTOC()
			{
				var contents = document.getElementById('contents');
				var tocContainer = document.getElementById('tocContainer');
				
				if (this.getAttribute('class') == 'open')
				{
					this.setAttribute('class', '');
					contents.setAttribute('class', '');
					tocContainer.setAttribute('class', '');
					
					window.name = "hideTOC";
				}
				else
				{
					this.setAttribute('class', 'open');
					contents.setAttribute('class', 'isShowingTOC');
					tocContainer.setAttribute('class', 'isShowingTOC');
					
					window.name = "";
				}
				return false;
			}
			
			function toggleTOCEntryChildren(e)
			{
				e.stopPropagation();
				var currentClass = this.getAttribute('class');
				if (currentClass == 'children') {
					this.setAttribute('class', 'children open');
				}
				else if (currentClass == 'children open') {
					this.setAttribute('class', 'children');
				}
				return false;
			}
			
			function tocEntryClick(e)
			{
				e.stopPropagation();
				return true;
			}
			
			function init()
			{
				var selectElement = document.getElementById('jumpTo');
				selectElement.addEventListener('change', jumpToChange, false);
				
				var tocButton = document.getElementById('table_of_contents');
				tocButton.addEventListener('click', toggleTOC, false);
				
				var taskTreeItem = document.getElementById('task_treeitem');
				if (taskTreeItem.getElementsByTagName('li').length > 0)
				{
					taskTreeItem.setAttribute('class', 'children');
					taskTreeItem.firstChild.setAttribute('class', 'disclosure');
				}
				
				var tocList = document.getElementById('toc');
				
				var tocEntries = tocList.getElementsByTagName('li');
				for (var i = 0; i < tocEntries.length; i++) {
					tocEntries[i].addEventListener('click', toggleTOCEntryChildren, false);
				}
				
				var tocLinks = tocList.getElementsByTagName('a');
				for (var i = 0; i < tocLinks.length; i++) {
					tocLinks[i].addEventListener('click', tocEntryClick, false);
				}
				
				if (window.name == "hideTOC") {
					toggleTOC.call(tocButton);
				}
			}
			
			window.onload = init;
			
			// If showing in Xcode, hide the TOC and Header
			if (navigator.userAgent.match(/xcode/i)) {
				document.getElementById("contents").className = "hideInXcode"
				document.getElementById("tocContainer").className = "hideInXcode"
				document.getElementById("top_header").className = "hideInXcode"
			}
			
		</script>
	</body>
</html>